document.addEventListener("DOMContentLoaded", function() {
    var n, t, i;
    var nextButtons = document.querySelectorAll(".next");
    var previousButtons = document.querySelectorAll(".previous");
    var radioButtons = document.querySelectorAll(".radio-group .radio");
    var submitButton = document.querySelector(".submit");

    nextButtons.forEach(function(nextButton) {
      nextButton.addEventListener("click", function() {
        n = this.parentElement;
        t = this.parentElement.nextElementSibling;

        var progressbar = document.querySelectorAll("#progressbar li");
        progressbar[Array.prototype.indexOf.call(document.querySelectorAll("fieldset"), t)].classList.add("active");

        t.style.display = "block";
        n.animate(
          { opacity: 0 },
          {
            step: function(now) {
              i = 1 - now;
              n.style.display = "none";
              n.style.position = "relative";
              t.style.opacity = i;
            },
            duration: 600,
          }
        );
      });
    });

    previousButtons.forEach(function(previousButton) {
      previousButton.addEventListener("click", function() {
        n = this.parentElement;
        t = this.parentElement.previousElementSibling;

        var progressbar = document.querySelectorAll("#progressbar li");
        progressbar[Array.prototype.indexOf.call(document.querySelectorAll("fieldset"), n)].classList.remove("active");

        t.style.display = "block";
        n.animate(
          { opacity: 0 },
          {
            step: function(now) {
              i = 1 - now;
              n.style.display = "none";
              n.style.position = "relative";
              t.style.opacity = i;
            },
            duration: 600,
          }
        );
      });
    });

    radioButtons.forEach(function(radioButton) {
      radioButton.addEventListener("click", function() {
        var parent = this.parentElement;
        parent.querySelectorAll(".radio").forEach(function(item) {
          item.classList.remove("selected");
        });
        this.classList.add("selected");
      });
    });

    submitButton.addEventListener("click", function() {
      return false;
    });
  });